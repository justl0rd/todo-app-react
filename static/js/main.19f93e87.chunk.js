(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(t,e,a){},15:function(t,e,a){"use strict";a.r(e);var s=a(0),n=a.n(s),o=a(7),r=a.n(o),l=a(1),c=a(2),i=a(4),u=a(3),d=a(5),m=(a(14),function(){return n.a.createElement("header",{className:"header"},n.a.createElement("h1",{className:"header-head"},"todos"))}),k=function(t){function e(){var t,a;Object(l.a)(this,e);for(var s=arguments.length,n=new Array(s),o=0;o<s;o++)n[o]=arguments[o];return(a=Object(i.a)(this,(t=Object(u.a)(e)).call.apply(t,[this].concat(n)))).state={currentTask:{text:""}},a.taskHandler=function(t){var e=t.target,s=a.props.tasksLength;a.setState({currentTask:{status:"active",text:e.value,id:"".concat(s).concat(Date.now())}})},a.keyPressHandler=function(t){var e=a.props.addTask,s=a.state.currentTask;"Enter"===t.key&&(t.preventDefault(),e(s),a.setState({currentTask:{status:"active",text:""}}))},a}return Object(d.a)(e,t),Object(c.a)(e,[{key:"render",value:function(){var t=this.state.currentTask.text,e=this.props.tasksLength,a=this.props,s=a.changeStatusToAllTasks,o=a.allTasksIsCompleted?"pointer-wrapper pointer-wrapper--checked":"pointer-wrapper";return n.a.createElement("div",{className:"new-todo"},n.a.createElement("form",null,!!e&&n.a.createElement("label",{className:o,onMouseDown:function(t){return t.preventDefault()}},n.a.createElement("input",{className:"new-todo__item",type:"button",value:"",onClick:s})),n.a.createElement("label",{className:"new-todo__label ".concat(!e&&"empty-list")},n.a.createElement("input",{className:"new-todo__item new-todo__item_input",type:"text",name:"todo",placeholder:"What needs to be done?",onKeyPress:this.keyPressHandler,onChange:this.taskHandler,value:t}))))}}]),e}(s.Component),p=function(t){function e(){var t,a;Object(l.a)(this,e);for(var s=arguments.length,o=new Array(s),r=0;r<s;r++)o[r]=arguments[r];return(a=Object(i.a)(this,(t=Object(u.a)(e)).call.apply(t,[this].concat(o)))).state={editing:!1,edtingTaskText:""},a.editingHandler=function(){var t=a.state.editing;if(a.setState({editing:!t}),t){var e=a.props,s=e.updateEditedTasks,n=e.taskId;s(a.state.edtingTaskText,n)}},a.handleClickOutside=function(t){var e=t.target;a.state.editing&&!e.classList.contains("todo-item__editing")&&a.editingHandler()},a.closeEdit=function(t){return"Enter"===t.key&&a.editingHandler()},a.showDefaultTask=function(){var t=a.props,e=t.task,s=t.taskId,o=t.statusHandler,r=t.removeTask,l=e.status,c=e.text,i="active"===l?"todo-list__task-text":"todo-list__task-text todo-list__task-text--completed";return n.a.createElement("div",{className:"todo-list__content"},n.a.createElement("input",{type:"checkbox",className:"todo-list__checkbox",onClick:function(){return o(s)}}),n.a.createElement("label",{className:i},n.a.createElement("span",{onDoubleClick:a.editingHandler},c)),n.a.createElement("button",{type:"button",className:"remove",onClick:function(){return r(s)}},"\xd7"))},a.showEditingTask=function(){return n.a.createElement("label",null,n.a.createElement("input",{type:"text",className:"todo-item__editing",onChange:function(t){var e=t.target;return a.setState({edtingTaskText:e.value})},onKeyPress:a.closeEdit,value:a.state.edtingTaskText,ref:function(t){return t&&t.focus()}}))},a}return Object(d.a)(e,t),Object(c.a)(e,[{key:"componentWillMount",value:function(){var t=this.props.task.text;document.addEventListener("click",this.handleClickOutside),this.setState({edtingTaskText:t})}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.handleClickOutside)}},{key:"render",value:function(){var t=this.state.editing;return n.a.createElement("li",{className:"todo-list__item"},t?this.showEditingTask():this.showDefaultTask())}}]),e}(n.a.Component),h=function(t){var e=t.tasks,a=t.removeTask,s=t.statusHandler,o=t.showMode,r=t.updateEditedTasks,l="all"===o?e:e.filter(function(t){return t.status.toLowerCase()===o});return n.a.createElement("ul",{className:"todo-list"},l.map(function(t,e){return n.a.createElement(p,{task:t,key:"".concat(e).concat(t.text),taskId:t.id,removeTask:a,statusHandler:s,updateEditedTasks:r})}))},f=["All","Active","Completed"],v=function(t){var e=t.modeHandler,a=t.showMode,s=t.items,o=t.removeTasks,r=t.isAreAnyCompleted,l=1===s&&"".concat(s," item left")||"".concat(s," items left");return n.a.createElement("footer",{className:"footer"},n.a.createElement("span",{className:"todo__count"},l),n.a.createElement("ul",{className:"todo__filters"},f.map(function(t,s){return n.a.createElement("li",{key:"".concat(t).concat(s),className:(o=t,o.toLowerCase()===a?"todo__filter-item selected":"todo__filter-item"),onClick:function(){return e(t.toLowerCase())}},t);var o})),r&&n.a.createElement("span",{className:"clear-button",onClick:o},"Clear completed"))},T=function(t){function e(){var t,a;Object(l.a)(this,e);for(var s=arguments.length,n=new Array(s),o=0;o<s;o++)n[o]=arguments[o];return(a=Object(i.a)(this,(t=Object(u.a)(e)).call.apply(t,[this].concat(n)))).state={tasks:[],showMode:"",allTasksIsCompleted:!1},a.setDataToLocalStorage=function(){var t=a.state,e={tasks:t.tasks,showMode:t.showMode,allTasksIsCompleted:t.allTasksIsCompleted};localStorage.setItem("appData",JSON.stringify(e))},a.addTask=function(t){var e=a.state.tasks;e.push(t),a.setState({tasks:e})},a.removeTask=function(t){var e=a.state.tasks.filter(function(e){return e.id!==t});a.setState({tasks:e})},a.statusHandler=function(t){var e=a.state.tasks.map(function(e){return t===e.id&&(e.status="completed"===e.status?"active":"completed"),e});a.setState({tasks:e})},a.modeHandler=function(t){return a.setState({showMode:t})},a.changeStatusToAllTasks=function(){var t=a.state,e=t.tasks,s=t.allTasksIsCompleted;e.some(function(t){return"active"===t.status})?e.forEach(function(t){return t.status="completed",t}):e.forEach(function(t){return t.status="active",t}),a.setState({tasks:e,allTasksIsCompleted:!s})},a.removeTasks=function(){var t=a.state.tasks.filter(function(t){return"completed"!==t.status});a.setState({tasks:t})},a.updateEditedTasks=function(t,e){var s=a.state.tasks;s.find(function(t){return t.id===e}).text=t,a.setState({tasks:s})},a.getActiveItems=function(){var t=a.state.tasks;return t.length?t.filter(function(t){return"active"===t.status}):[]},a}return Object(d.a)(e,t),Object(c.a)(e,[{key:"componentDidMount",value:function(){var t=localStorage.getItem("appData");if(t){var e=JSON.parse(t),a=e.showMode,s=e.tasks,n=e.allTasksIsCompleted;this.setState({tasks:s,showMode:a,allTasksIsCompleted:n})}else this.setState({tasks:[],showMode:"all",allTasksIsCompleted:!1})}},{key:"componentDidUpdate",value:function(t,e){e!==this.state&&this.setDataToLocalStorage()}},{key:"render",value:function(){var t=this.state,e=t.tasks,a=t.showMode,s=t.allTasksIsCompleted,o=this.getActiveItems().length,r=e.some(function(t){return"completed"===t.status}),l=e.length;return n.a.createElement("section",{className:"todo-app"},n.a.createElement(m,null),n.a.createElement("section",{className:"main"},n.a.createElement(k,{addTask:this.addTask,tasksLength:l,changeStatusToAllTasks:this.changeStatusToAllTasks,allTasksIsCompleted:s}),e&&n.a.createElement(h,{tasks:e,removeTask:this.removeTask,statusHandler:this.statusHandler,showMode:a,updateEditedTasks:this.updateEditedTasks})),(!!o||!!l)&&n.a.createElement(v,{modeHandler:this.modeHandler,showMode:a,items:o,removeTasks:this.removeTasks,isAreAnyCompleted:r}))}}]),e}(s.Component);r.a.render(n.a.createElement(T,null),document.getElementById("root"))},8:function(t,e,a){t.exports=a(15)}},[[8,1,2]]]);
//# sourceMappingURL=main.19f93e87.chunk.js.map